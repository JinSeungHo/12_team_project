<!doctype html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>PetPer</title>
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="./JS/script.js"></script>
    <link rel="stylesheet" href="./CSS/CSS_reset.css">
    <link rel="stylesheet" href="./CSS/index.css">
</head>
<body>
<!--wrap-->
<div class="wrap">

<!--main-header-->
    <header id="main-header" class="clearfix">
        <div class="grid">
            <a class="logo" href="#">
                <img src="./Images/logo.png" alt="PetPer">
            </a>
            <div class="login"></div>
        </div>
    </header>
<!--//main-header-->

<!--main-content-->
    <div id="main-content">
        <section class="map-container">
            <header class="map-header">
                <h1 class="main-txt">지도에서 원하는 지역을 선택하세요!</h1>
                <p>선택하지 않으면 전체 지역에서 찾습니다</p>
            </header>
            <div class="map"></div>
            <a href="#" class="map-search-btn">찾기</a>
        </section>
    </div>
    <div id="sub-content" class="clearfix">
        <section class="notice-gel">
            <h3 class="on">공지사항</h3>
            <ul class="notice on" id="notice">
                <li><a href="#">공지사항입니다.<span class="day">2022-04-05</span></a></li>
                <li><a href="#">공지사항입니다.<span class="day">2022-04-05</span></a></li>
                <li><a href="#">공지사항입니다.<span class="day">2022-04-05</span></a></li>
            </ul>
            <h3 class="r100">게시판</h3>
            <ul class="notice">
                <li><a href="#">게시판입니다.<span class="day">2022-05-05</span></a></li>
                <li><a href="#">게시판입니다.<span class="day">2022-05-05</span></a></li>
                <li><a href="#">게시판입니다.<span class="day">2022-05-05</span></a></li>
                <li><a href="#">게시판입니다.<span class="day">2022-05-05</span></a></li>
                <li><a href="#">게시판입니다.<span class="day">2022-05-05</span></a></li>
                <li><a href="#">게시판입니다.<span class="day">2022-05-05</span></a></li>


            </ul>
        </section>

        <section class="A"></section>
        <section class="B"></section>


    </div>



<!--//main-content-->

<!--main-footer-->
    <footer id="main-footer" class="clearfix">

        <div class="copy">&copy;2022. PETPER All right reserved.</div>

        <div class="sns">
            <ul>
                <li><a href="#">메일</a></li>
                <li><a href="#">페이스북</a></li>
                <li><a href="#">인스타그램</a></li>
            </ul>
        </div>
    </footer>


    <!--//main-footer-->



</div>
<!--//wrap-->
</body>

<!--firebase-->

<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-analytics.js";
    

    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyBdHq8r4EMKfC1d3kug8xOnv14Ui-TA_Hg",
        authDomain: "petper-14f9d.firebaseapp.com",
        databaseURL: "https://petper-14f9d-default-rtdb.firebaseio.com",
        projectId: "petper-14f9d",
        storageBucket: "petper-14f9d.appspot.com",
        messagingSenderId: "382691123578",
        appId: "1:382691123578:web:975408487ddb2e5fde76c3",
        measurementId: "G-71HYZ44KRJ"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    const analytics = getAnalytics(app);

    import {getDatabase, ref, set, get, child, update, remove}
    from "https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js";

    var notice = document.getElementById('notice');
    var noticeChild = notice.children;

    const dbref = ref(db);

    for(var i=1; i<=3 ;i++){

        getData(i);

    }

    function getData(i){
        get(child(dbref, "noticeList/"+i)).then((snapshot)=>{
            if(snapshot.exists()){
                noticeChild[i-1].innerHTML = '<li><a href="#">'+snapshot.val().notice+'<span class="day">'+snapshot.val().date+'</span></a></li>';
            }
        })
        .catch((error)=>{
            console.log(error);
        });
    }
    
</script>

<!--//firebase-->

</html>